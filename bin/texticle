#!/usr/bin/env ruby
# Id$ nonnax 2022-11-23 12:45:54
$LOAD_PATH<<'./lib'

f, layout, basic =ARGV
mod = basic ? 'texticle/texticle_one' : 'texticle/texticle'
require mod

unless f
  puts "file not found."
  puts "usage: #{File.basename(__FILE__)} <file> <template> <any>"
  puts "<any> flag discards interpolation"
  exit
end

unless layout
 layout = f
else
 content = Texticle.render(f)
end

Texticle
.render(layout){ content }
.then(&method(:puts))
