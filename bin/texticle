#!/usr/bin/env ruby
# Id$ nonnax 2022-11-23 12:45:54
$LOAD_PATH<<'./lib'

f, layout, full = ARGV
mod = full ? 'texticle/texticle' : 'texticle/texticle_one'
require mod

unless f
  puts "file not found."
  puts "usage: #{File.basename(__FILE__)} <file> <template> <flag>"
  puts "<any flag> flag allows interpolation"
  exit
end

unless layout
 layout = f
else
 content = Texticle.render(f)
end

Texticle
.render(layout){ content }
.then(&method(:puts))
